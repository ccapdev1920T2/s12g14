<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/common.js"></script>
    <script>
      $(document).ready(function() {
        var sessionID = getParameterByName('sid');
        if (sessionID) {
          var user = fromSession(sessionID);
          $("#user-dp").attr("src", '../' + user.bio.display);
          var anchors = $("a").toArray();
          for (var key in anchors) {
            var anchor = anchors[key];
            var link = $(anchor).attr("href");
            if ($(anchor).hasClass('logout')) continue;
            if (link !== '#') {
              $(anchor).attr("href", link + '?sid=' + sessionID);
            }
          }
          $("#registered-nav").show();
          $("#registered-like").show();
        } else {
          $("#unregistered-nav").show();
          $("#unregistered-like").show();
        }
      });
    </script>
    <title>Cooking recipe website</title>
  </head>

  <body class="bg-cstm-yellow-lightest">
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-cstm-yellow">
      <div class="container">
        <a class="navbar-brand text-cstm-orange-darkest" href="../index.html"><i class="fa fa-cutlery"></i>&nbsp;&nbsp;&nbsp;Cooker</a>
        <ul class="navbar-nav ml-auto mr-auto">
          <li class="nav-item">
            <div class="justify-content-md-center">
              <form>
                <div class="input-group mr-sm-2">
                  <input type="text" name="q" class="form-control border-0" placeholder="Search recipes" style="width: 480px">
                  <div class="input-group-append">
                    <button class="btn btn-cstm-orange" type="button">
                      <i class="fa fa-search text-cstm-orange-darkest"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </li>
        </ul>
        <div id="unregistered-nav" style="display:none;">
          <ul class="navbar-nav mr-0">
            <li class="nav-item">
              <a class="nav-link" href="../login.html">Log in</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../register.html">Register</a>
            </li>
          </ul>
        </div>
        <div id="registered-nav" style="display:none;">
          <ul class="navbar-nav mr-0">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle pb-1 pt-1" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img id="user-dp" src="" width="30" height="30" class="d-inline-block align-top rounded-circle" alt="">
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item logout" href="../index.html">Log out</a>
                <a class="dropdown-item" href="../editprofile.html">Edit profile</a>
                <a class="dropdown-item" href="../createrecipe.html">Create recipe</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col col-sm-7 bg-cstm-green-lightest">
            <h1><strong>Baked Pie</strong></h1>
            <div id="profile-area">
              <a href="#" class="no-hover">
                <img id="profile-img" class="rounded-circle" src="../assets/images/Faces/stephen-smithgall-vhQZXB5nL3o-unsplash.jpg">
                <span id="profile-name" class="ml-1 text-dark">Shane Fisher</span>
              </a>
            </div>
            <div id="recipe-area" class="h-50 mt-5">
              <h2 id="servings"><em>Servings:</em></h2>
              <h4 id="servings-number"><em>6</em></h4>
            </div>
            <div id="recipe-interactions" class="my-3">
              <h5 class="float-left">0 likes</h5>
              <h5 class="float-right">
                <span id="registered-like" style="display:none;"><a href="#" class="text-dark">Like this recipe!</a></span>
                <span id="unregistered-like" style="display:none;">Register to like recipes!</span>
              </h5>
            </div>
          </div>
          <div class="col col-sm-4 bg-cstm-orange">
            <img src="../assets/images/sunny-ahuja-9-AEnqGf94E-unsplash.jpg" class="rounded img-fluid">
          </div>
        </div>
        <div class="row bg-cstm-green-lightest my-3 p-3">
          <h1 id="description-header"><strong>Description</strong></h1>
          <h3 id="description"></h3>
        </div>
        <div class="row bg-cstm-green-lightest my-3 p-3">
          <h1 id="ingredients-header"><strong>Ingredients</strong></h1>
          <div id="ingredients"><br><br>
            1 1/2 cups (177g) King Arthur Unbleached All-Purpose Flour<br>
            1/4 teaspoon salt<br>
            1/4 teaspoon baking powder, optional; for added flakiness<br>
            4 tablespoons (57g) butter<br>
            1/4 cup (43g) vegetable shortening<br>
            1 teaspoon white or cider vinegar<br>
            3 to 5 tablespoons (43g to 71g) ice water<br>
            1 1/2 cups (340g) milk (anything from skim to whole, your choice)<br>
            1 cup (227g) cream (heavy, whipping, light, or half & half, your choice)<br>
            1/4 teaspoon salt<br>
            4 large eggs<br>
            2/3 cup (131g) sugar<br>
            1 tablespoon (14g) vanilla extract<br>
            1/4 teaspoon ground or freshly grated nutmeg<br>
          </div>
        </div>
        <div class="row bg-cstm-green-lightest my-3 p-3">
          <h1 id="steps-header"><strong>Steps</strong></h1>
          <div id="steps"><br>
            1. To make the crust: Whisk together all of the dry ingredients.
            <br> 2. Add the shortening, mixing until the mixture is evenly crumbly. Add the butter, working it in until it's unevenly crumbly, with some larger chunks of butter remaining.
            <br>  3. Sprinkle the vinegar and 3 tablespoons of the ice water over the dough while tossing with a fork. Add more water if the dough isn't coming together. Just as soon as the dough becomes cohesive (i.e., you can squeeze it into a ball easily), stop mixing; there should still be visible pieces of fat in the dough.
            <br> 4. Flatten the dough into a disk and wrap it in plastic wrap or waxed paper. Refrigerate for 30 minutes or longer; this resting period allows the flour to absorb the water, making the dough easier to roll out.
            <br> 5. Roll the chilled crust into a 13" circle, and lay it in a lightly greased 9" pie pan. Make an upright (rather than flat) crimp around the edge, as pictured above; this will help keep the filling from sloshing out as you move the pie from counter to oven. Place the pie crust in the refrigerator to chill while you preheat the oven to 375째F with a rack set in the middle.
            <br> 6. To blind-bake (pre-bake) the pie crust, line the chilled crust with foil or parchment paper, and fill it with pie weights or dried beans. Bake the crust for 20 minutes. Remove it from the oven, and gently remove the foil or parchment with the weights or beans. Return the crust to the oven for 10 to 15 more minutes, until it's golden brown all over. If the edges of the crust start to become too brown, cover them with a pie shield or strips of aluminum foil. Remove the crust from the oven and cool completely while you make the filling.
            <br> 7. Reduce the oven temperature to 300째F.
            <br> 8. To make the filling: Start by combining the milk, cream, and salt in a medium-sized saucepan or microwave-safe bowl. Heat the mixture until small bubbles form around the edges, and steam starts to wisp from the surface; this is how you "scald" milk, if you've ever seen that technique mentioned.
            <br> 9. In a separate bowl, whisk together the eggs and sugar. Pour 1/4 of the hot milk/cream over the egg mixture, stirring well. Pour the egg mixture into the remaining hot milk/cream, stirring well. Pour the custard through a sieve, to strain out any possible bits of cooked egg. Stir in the vanilla extract.
            <br> 10. Pour the hot filling into the baked, cooled crust. Sprinkle the nutmeg evenly over the top. Cover the edges of the pie with a pie shield or strips of aluminum foil to prevent over-browning.
            <br> 11. Place the pie onto your oven's middle rack and bake it for 35 to 40 minutes, or until the custard is set at the edges but still a bit wobbly in the center. The temperature of the pie at the center should be between 170째F and 180째F.
            <br> 12. Remove the pie from the oven, and place it on a rack to cool. When it's completely cool, refrigerate until you're ready to serve.
            <br> 13. Store any leftovers in the refrigerator for several days.
          </div>
        </div>
        <div class="row">
          <h1 id="comments-header">Comments:</h1>
        </div>
        <div id="comments">
          <div id="comment-1" class="row justify-content-between my-2">
            <div class="col-2">
              <a href="../profile/profile5.html">
                <img id="profile-img-1" src="../assets/images/faces/alexander-krivitskiy-nz8jK82uF2o-unsplash.jpg" class="rounded img-fluid">
              </a>
            </div>
            <div class="col-9 rounded bg-cstm-orange-lighter">
              <p>Looks delicious! Can't wait to try it out!</p>
            </div>
          </div>
          <div id="comment-2" class="row justify-content-between my-2">
            <div class="col-2">
              <a href="../profile/profile4.html">
                <img id="profile-img-2" src="../assets/images/faces/stephen-smithgall-vhQZXB5nL3o-unsplash.jpg" class="rounded img-fluid">
              </a>
            </div>
            <div class="col-9 rounded bg-cstm-orange-lighter">
              <p>I'll try this out with different fruits!</p>
            </div>
          </div>
        </div>
    </main>

    <footer class="footer">
      <div class="mt-3 p-4 bg-cstm-yellow-darker">
        <div class="container">
          <div id="copyright">
            Copyright &copy; 2020
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>